div(class="h-full overflow-y-auto")
    div(class="max-w-6xl mx-auto px-8 py-8")
        div(class="flex max-sm:flex-col-reverse gap-6")
            //- 위키 리스트 (좌측)
            div(class="flex-1 min-w-0")
                //- 로딩 스켈레톤
                div(class="space-y-3", *ngIf="!loaded")
                    div(class="bg-white rounded-lg border border-neutral-200 p-6", *ngFor="let i of [1,2,3]")
                        div(class="bg-neutral-100 rounded h-5 mb-3 w-1/3 animate-pulse")
                        div(class="bg-neutral-100 rounded h-4 mb-2 w-2/3 animate-pulse")
                        div(class="bg-neutral-100 rounded h-4 w-1/2 animate-pulse")

                ng-container(*ngIf="loaded")
                    //- 빈 상태
                    div(class="bg-white rounded-lg border border-neutral-200 py-16 text-center", *ngIf="list.length == 0")
                        div(class="flex flex-col items-center justify-center")
                            i(class="ti ti-book-off text-5xl text-neutral-300 mb-4")
                            p(class="text-base font-medium text-neutral-700") 검색된 위키가 없습니다
                            p(class="mt-1 text-sm text-neutral-400", *ngIf="service.auth.show.membership(['admin', 'staff', 'user'])") 새 위키를 만들어 시작해 보세요
                            button(class="inline-flex items-center gap-2 px-4 py-2 mt-6 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition-colors", *ngIf="service.auth.show.membership(['admin', 'staff', 'user'])", (click)="createProject()")
                                i(class="ti ti-plus text-base")
                                | 시작하기

                    //- 위키 카드 리스트
                    div(class="space-y-3")
                        ng-container(*ngFor="let item of list; let i = index")
                            a(class="flex items-center bg-white rounded-lg border border-neutral-200 p-5 cursor-pointer hover:bg-neutral-50 transition-colors group", [routerLink]="'/wiki/' + item.namespace")
                                div(class="shrink-0 w-12 h-12 rounded-lg bg-neutral-100 border border-neutral-200 bg-contain bg-center bg-cover bg-no-repeat", [ngStyle]="{'background-image': 'url(' + item.icon + ')'}")
                                div(class="flex-1 ml-4 min-w-0")
                                    h3(class="text-sm font-medium text-neutral-800 group-hover:text-neutral-900") {{item.title}}
                                    div(class="flex flex-wrap items-center gap-x-3 gap-y-1 text-xs text-neutral-400 mt-1.5 max-sm:flex-col max-sm:items-start")
                                        span(class="flex items-center gap-1")
                                            i(class="ti ti-refresh text-[14px]")
                                            | {{displayDate(item.updated)}}

                    //- 페이지네이션
                    div(class="sticky -bottom-0 py-4 backdrop-blur", *ngIf="list.length > 0")
                        wiz-component-pagination(
                            [current]="search.page",
                            [start]="pagenation.start",
                            [end]="pagenation.end",
                            (pageMove)="load($event)")

            //- 필터 사이드바 (우측)
            div(class="w-64 max-sm:w-full shrink-0")
                div(class="sticky top-0 space-y-5 max-sm:space-y-3")
                    //- 새 위키 버튼
                    button(class="w-full max-sm:hidden inline-flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition-colors", (click)="createProject()", *ngIf="service.auth.show.membership(['admin', 'staff', 'user'])")
                        i(class="ti ti-plus text-base")
                        | 새 위키 만들기

                    //- 검색
                    div
                        label(class="text-xs font-medium text-neutral-500 uppercase tracking-wider") 위키 제목
                        div(class="relative mt-1.5")
                            i(class="ti ti-search absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400 text-base")
                            input(type="text", class="w-full pl-9 pr-3 py-2 text-sm border border-neutral-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 placeholder-neutral-400 transition-colors", placeholder="검색어 입력", [(ngModel)]="search.text", (keyup.enter)="load()")

                    //- 공개 범위
                    div
                        label(class="text-xs font-medium text-neutral-500 uppercase tracking-wider") 공개 범위
                        div(class="mt-1.5 space-y-1.5 max-sm:flex max-sm:space-y-0 max-sm:gap-2")
                            label(class="flex items-center gap-2.5 px-3 py-2 rounded-md cursor-pointer text-sm text-neutral-600 ring-1 ring-neutral-200 hover:bg-neutral-50 has-[:checked]:ring-blue-200 has-[:checked]:bg-blue-50 has-[:checked]:text-blue-700 transition-colors")
                                input(type="radio", name="project-range", value="join", [(ngModel)]="search.range", (change)="load()", class="accent-blue-500")
                                | 참여중인 위키
                            label(class="flex items-center gap-2.5 px-3 py-2 rounded-md cursor-pointer text-sm text-neutral-600 ring-1 ring-neutral-200 hover:bg-neutral-50 has-[:checked]:ring-blue-200 has-[:checked]:bg-blue-50 has-[:checked]:text-blue-700 transition-colors", *ngIf="service.auth.show.membership(['admin', 'staff', 'user'])")
                                input(type="radio", name="project-range", value="manage", [(ngModel)]="search.range", (change)="load()", class="accent-blue-500")
                                | 내 위키
                            label(class="flex items-center gap-2.5 px-3 py-2 rounded-md cursor-pointer text-sm text-neutral-600 ring-1 ring-neutral-200 hover:bg-neutral-50 has-[:checked]:ring-blue-200 has-[:checked]:bg-blue-50 has-[:checked]:text-blue-700 transition-colors")
                                input(type="radio", name="project-range", value="all", [(ngModel)]="search.range", (change)="load()", class="accent-blue-500")
                                | 전체 위키

    //- 새 위키 모달
    div(class="relative z-[99999]", *ngIf="newProject")
        div(class="fixed inset-0 bg-black/50 transition-opacity")
        div(class="fixed inset-0 z-50 w-screen overflow-y-auto")
            div(class="flex min-h-full items-center justify-center p-4")
                div(class="relative flex flex-col bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden")
                    //- 모달 헤더
                    div(class="flex items-center justify-between px-6 py-4 border-b border-neutral-200")
                        h2(class="text-lg font-semibold text-neutral-900") 새로운 위키
                        button(class="p-1 rounded-md text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 transition-colors", (click)="closeCreateBookModal()")
                            i(class="ti ti-x text-xl")
                    //- 모달 바디
                    div(class="flex-1 px-4 py-4 overflow-auto")
                        wiz-portal-wiki-book-info([hasSaveBtn]="false")
                    //- 모달 푸터
                    div(class="flex justify-end gap-2 px-6 py-4 border-t border-neutral-100 bg-neutral-50 rounded-b-xl")
                        button(class="px-4 py-2 text-sm text-neutral-600 hover:bg-neutral-200 rounded-md transition-colors", (click)="closeCreateBookModal()") 닫기
                        button(class="px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors font-medium", (click)="createBook()") 시작하기
