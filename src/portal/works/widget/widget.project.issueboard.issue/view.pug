.issue-card.relative.flex.flex-col.border.border-gray-300.shadow-0.rounded-xl.bg-white.cursor-pointer.overflow-hidden([ngClass]="color()", class="hover:border-blue-500 hover:border-2")
    .flex.flex-col.bg-white.rounded-lg.border.border-gray-300.p-6.w-full.gap-y-2.items-end(*ngIf="!issue")
        .bg-gray-300.rounded-full.h-4(class="w-9/12")
        .bg-gray-300.rounded-full.h-3(class="w-10/12")
        .bg-gray-300.rounded-full.h-3(class="w-11/12")
        .bg-gray-300.rounded-full.h-3(class="w-8/12")

    ng-container(*ngIf="issue")
        .flex.px-4.py-3.pb-1
            h3.ff-eb.mb-0.break-all.text-nowrap.text-ellipsis.w-52.overflow-hidden([class.text-red]="issue.level > 1") 
                span {{ issue.title }}
            .ms-auto
            span.text-yellow-500(*ngIf="service.auth.session.id == issue.user_id")
                i.fa-solid.fa-tag
            span.text-red-500.ml-2(*ngIf="issue.level > 1")
                i.fa-solid.fa-exclamation-circle(*ngIf="issue.level == 2")
                i.fa-solid.fa-bullhorn(*ngIf="issue.level == 3")
        
        ng-container(*ngIf="issue.process > 0")
            .bg-blue-500(class="h-0.5", style="width: {{issue.process}}%")

        .flex.text-gray-500.text-sm.pt-1.px-4
            .ml-auto
            .ml-3(*ngIf="issue.process > 0")
                i.ti.ti-progress-check.mr-2
                span {{ issue.process }}%

            .ml-3(*ngIf="issue.todo.length")
                i.fa-solid.fa-square-check.mr-2
                span {{project.display.todoStatus(issue.todo)}}
            
            .ml-3(*ngIf="issue.planend")
                i.fa-solid.fa-hourglass-end.mr-2
                span {{ issue.planend.substring(0, 10) }}
        
        .px-4.pb-1
            ng-container(*ngIf="issue.todo.length > 0")
                .divide-y.mt-1.text-sm
                    .py-2(*ngFor="let todo of issue.todo")
                        i.ti.ti-check.mr-2([ngClass]="todo.checked?'text-green-500':'text-gray-500'")
                        span([ngClass]="todo.checked?'line-through text-gray-500':''") {{todo.title}}

        .text-right.p-1.border-t.border-gray-300(*ngIf="issue.worker.length > 0", [ngClass]="color()")
            ng-container(*ngFor="let worker_id of issue.worker")
                span.border.border-gray-300.bg-white.text-xs.text-black.ff-eb.mr-1(*ngIf="project.member.map[worker_id]", class="px-1 py-0.5") {{project.member.map[worker_id].name}}
