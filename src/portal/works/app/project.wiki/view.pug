div(class="py-6 px-4 flex flex-wrap overflow-auto")
    div(class="flex w-full", class="max-sm:flex-col-reverse")
        div(class="w-3/4 p-4", class="max-sm:w-full")
            div(class="flex flex-col gap-y-4")
                //- 로딩 스켈레톤
                div(class="flex flex-col bg-white rounded-lg border border-neutral-200 p-6 w-full gap-y-3 items-end", *ngIf="!loaded")
                    div(class="bg-neutral-200 rounded-full h-4 w-9/12 animate-pulse")
                    div(class="bg-neutral-200 rounded-full h-3 w-10/12 animate-pulse")
                    div(class="bg-neutral-200 rounded-full h-3 w-11/12 animate-pulse")
                    div(class="bg-neutral-200 rounded-full h-3 w-8/12 animate-pulse")

                ng-container(*ngIf="loaded")
                    //- 빈 상태
                    div(class="flex flex-col items-center bg-white rounded-lg border border-neutral-200 py-16 w-full", *ngIf="list.length == 0")
                        i(class="ti ti-book-off text-5xl text-neutral-300 mb-4")
                        p(class="text-base text-neutral-500") 검색된 위키가 없습니다
                        p(class="mt-2 text-sm text-neutral-400", *ngIf="service.auth.show.membership(['admin', 'staff', 'user'])") 아래 시작하기 버튼을 눌러서 위키를 시작해주세요.
                        button(class="inline-flex items-center gap-2 bg-blue-500 text-white rounded-md py-2 px-4 mt-6 text-sm font-medium hover:bg-blue-600 transition-colors", *ngIf="service.auth.show.membership(['admin', 'staff', 'user'])", (click)="createProject()")
                            span 시작하기
                            i(class="ti ti-arrow-right text-base")

                    //- 위키 목록
                    ng-container(*ngFor="let item of list; let i = index")
                        div(class="flex flex-wrap bg-white rounded-lg border border-neutral-200 p-5 w-full cursor-pointer hover:bg-neutral-50 hover:border-neutral-300 transition-all", (click)="open(item)")
                            img(class="size-14 bg-neutral-50 border border-neutral-200 rounded-lg bg-contain bg-center bg-cover bg-no-repeat", style="background-image: url({{item.icon}})")
                            div(class="flex-1 ml-5")
                                h3(class="font-medium text-neutral-800") {{item.title}}
                                div(class="flex text-neutral-400 text-xs mt-2", class="max-sm:flex-col")
                                    span(class="max-sm:before:!content-[''] max-sm:before:!mx-0")
                                        i(class="ti ti-rotate-clockwise-2 mr-1")
                                        span {{displayDate(item.updated)}}

                    //- 페이지네이션
                    div(class="sticky py-4 backdrop-blur -bottom-4", *ngIf="list.length > 0", class="max-sm:pb-2")
                        wiz-component-pagination(
                            [current]="search.page",
                            [start]="pagenation.start",
                            [end]="pagenation.end",
                            (pageMove)="load($event)",
                        )

        //- 우측 사이드
        div(class="w-1/4", class="max-sm:w-full")
            div(class="sticky top-0 pt-4", class="max-sm:pt-0")
                div(class="flex gap-2 mb-4", *ngIf="service.auth.show.membership(['admin', 'staff', 'user']) && project.accessLevel(['admin', 'manager'])")
                    button(class="inline-flex items-center gap-1.5 bg-blue-500 text-white rounded-md py-2 px-3 flex-1 text-sm font-medium hover:bg-blue-600 transition-colors justify-center", class="max-sm:hidden", (click)="createProject()")
                        i(class="ti ti-plus text-base")
                        span 새 위키 만들기
                    button(class="text-blue-600 py-2 px-3 flex-1 text-sm hover:underline underline-offset-4 transition-colors", (click)="connectWiki()")
                        span 위키 연결

                div(class="mb-4")
                    input(class="w-full px-3 py-2 text-sm border border-neutral-200 rounded-md mt-2 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 placeholder-neutral-400 transition-colors", placeholder="검색어를 입력해주세요", [(ngModel)]="search.text", (keyup.enter)="load()")

//- 위키 연결 모달
div(class="relative z-[99999]", *ngIf="isConnectWiki")
    div(class="fixed inset-0 bg-black/50 transition-opacity")
    div(class="fixed inset-0 z-50 w-screen overflow-y-auto")
        div(class="flex min-h-full items-end justify-center text-center sm:items-center sm:p-0 w-4/5 min-w-96 max-w-[640px] mx-auto")
            div(class="relative flex flex-col transform rounded-xl bg-white text-left shadow-xl transition-all sm:my-8 w-full max-h-[90vh] overflow-hidden")
                div(class="absolute top-2 right-2 size-8 flex items-center justify-center text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-md cursor-pointer transition-colors", (click)="closeConnectWikiModal()")
                    i(class="ti ti-x text-xl")
                div(class="flex items-center border-b border-neutral-200 py-4 px-5")
                    h3(class="text-base font-semibold text-neutral-900") 위키 연결
                div(class="relative flex-1 flex flex-col gap-y-3 px-4 py-3 overflow-auto bg-neutral-50")
                    ng-container(*ngFor="let item of wiki.list")
                        div(class="flex flex-wrap bg-white rounded-lg border border-neutral-200 p-5 w-full cursor-pointer hover:bg-neutral-50 hover:border-neutral-300 transition-all",
                            [ngClass]="wiki.selected && item.id == wiki.selected.id ? '!border-blue-500 !bg-blue-50 ring-1 ring-blue-200' : ''",
                            (click)="selectConnectWiki(item)",
                        )
                            img(class="size-14 bg-neutral-50 border border-neutral-200 rounded-lg bg-contain bg-center bg-cover bg-no-repeat", style="background-image: url({{item.icon}})")
                            div(class="flex-1 ml-5")
                                h3(class="font-medium text-neutral-800") {{item.title}}
                                div(class="flex text-neutral-400 text-xs mt-2", class="max-sm:flex-col")
                                    span(class="max-sm:before:!content-[''] max-sm:before:!mx-0")
                                        i(class="ti ti-rotate-clockwise-2 mr-1")
                                        span {{displayDate(item.updated)}}

                    div(class="sticky py-4 backdrop-blur -bottom-4", *ngIf="wiki.list.length > 0", class="max-sm:pb-2")
                        wiz-component-pagination(
                            [current]="wiki.search.page",
                            [start]="wiki.pagenation.start",
                            [end]="wiki.pagenation.end",
                            (pageMove)="loadWiki($event)")

                div(class="flex items-center border-t border-neutral-200 py-3 px-5 bg-neutral-50 rounded-b-xl")
                    button(class="px-4 py-2 text-sm text-neutral-600 hover:bg-neutral-200 rounded-md transition-colors", (click)="closeConnectWikiModal()") 닫기
                    button(class="px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 ml-auto transition-colors font-medium", *ngIf="wiki.selected", (click)="connectWiki()") 연결하기
                    button(class="px-4 py-2 text-sm text-neutral-400 bg-neutral-200 rounded-md ml-auto cursor-default", *ngIf="!wiki.selected") 연결할 위키를 선택해주세요.

//- 새 위키 생성 모달
div(class="relative z-[99999]", *ngIf="newProject")
    div(class="fixed inset-0 bg-black/50 transition-opacity")
    div(class="fixed inset-0 z-50 w-screen overflow-y-auto")
        div(class="flex min-h-full items-end justify-center text-center sm:items-center sm:p-0 w-4/5 min-w-96 max-w-[640px] mx-auto")
            div(class="relative flex flex-col transform rounded-xl bg-white text-left shadow-xl transition-all sm:my-8 w-full max-h-[90vh] overflow-hidden")
                div(class="absolute top-2 right-2 size-8 flex items-center justify-center text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-md cursor-pointer transition-colors", (click)="closeCreateBookModal()")
                    i(class="ti ti-x text-xl")
                div(class="flex items-center border-b border-neutral-200 py-4 px-5")
                    h3(class="text-base font-semibold text-neutral-900") 새로운 위키
                div(class="flex-1 px-4 py-3 overflow-auto bg-neutral-50")
                    wiz-portal-wiki-book-info([hasSaveBtn]="false")

                div(class="flex items-center border-t border-neutral-200 py-3 px-5 bg-neutral-50 rounded-b-xl")
                    button(class="px-4 py-2 text-sm text-neutral-600 hover:bg-neutral-200 rounded-md transition-colors", (click)="closeCreateBookModal()") 닫기
                    button(class="px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 ml-auto transition-colors font-medium", (click)="createBook()") 시작하기
